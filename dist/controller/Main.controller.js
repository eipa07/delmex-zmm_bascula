sap.ui.define(["delmex/zmmbascula/controller/BaseController","delmex/zmmbascula/util/formatter","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageBox"],(e,t,o,l,s,i)=>{"use strict";return e.extend("delmex.zmmbascula.controller.Main",{formatter:t,onInit(){let e=this.getRequestModel();this.getView().setModel(e,"requestModel");let t=this.getCatalogsModel();this.getView().setModel(t,"catalogsModel");sap.ui.getCore().setModel(t,"catalogsModel")},navToDetail(e){var t=e.getSource();var o=t.getBindingContext("detailsModel");var l=o.getProperty(o.getPath());var s=l.Folio;this.getRouter().navTo("RouteDetail",{folio:s},false)},onSearch(){var e=this.getFilters();var t=this;var l=this.getView().getModel("zbasc");const s="/Folio";var i=new o;l.read(s,{filters:e,success:function(e,o){i.setData(e.results);t.getView().setModel(i,"detailsModel")},error:function(e){sap.m.MessageBox.error(e)}})},getFilters(){let e=[];let t=this.getView().getModel("requestModel").getProperty("/Folio");let o=this.getView().getModel("requestModel").getProperty("/CentroEnt");let i=this.getView().getModel("requestModel").getProperty("/Tipoticket");let r=this.getView().getModel("requestModel").getProperty("/CentroSal");let a=this.getView().getModel("requestModel").getProperty("/Material");let g=this.getView().getModel("requestModel").getProperty("/NumeroDoc");let n=this.getView().getModel("requestModel").getProperty("/Placa");let d=this.getView().getModel("requestModel").getProperty("/FechaEntBas");let u=this.getView().getModel("requestModel").getProperty("/FechaSalBas");if(t){e.push(new l("Folio",s.EQ,t))}if(o){e.push(new l("CentroEnt",s.EQ,o))}if(i){e.push(new l("Tipoticket",s.EQ,i))}if(r){e.push(new l("CentroSal",s.EQ,r))}if(a){e.push(new l("Material",s.Contains,a))}if(g){e.push(new l("NumeroDoc",s.EQ,g))}if(n){e.push(new l("Placa",s.Contains,n))}if(d){let t=this.buildDate(d);e.push(new l("FechaEntBas",s.Contains,t))}if(u){let t=this.buildDate(u);e.push(new l("FechaSalBas",s.Contains,t))}return e}})});
//# sourceMappingURL=Main.controller.js.map