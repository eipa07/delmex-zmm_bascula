sap.ui.define(["delmex/zmmbascula/controller/BaseController","delmex/zmmbascula/util/formatter","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageBox"],(e,t,o,r,s,l)=>{"use strict";return e.extend("delmex.zmmbascula.controller.Main",{formatter:t,onInit(){let e=this.getRequestModel();this.getView().setModel(e,"requestModel");let t=this.getCatalogsModel();this.getView().setModel(t,"catalogsModel");sap.ui.getCore().setModel(t,"catalogsModel")},navToDetail(e){var t=e.getSource();var o=t.getBindingContext("detailsModel");var r=o.getProperty(o.getPath());var s=r.Folio;this.getRouter().navTo("RouteDetail",{folio:s},false)},onSearch(){var e=this.getFilters();var t=this;var r=this.getView().getModel("zbasc");const s="/Folio";var l=new o;r.read(s,{filters:e,success:function(e,o){l.setData(e.results);t.getView().setModel(l,"detailsModel")},error:function(e){sap.m.MessageBox.error(e)}})},getFilters(){var e=[];var t=this.getView().getModel("requestModel").getProperty("/centro_ent");var o=this.getView().getModel("requestModel").getProperty("/tipo_ticket");var l=this.getView().getModel("requestModel").getProperty("/centro_sal");var a=this.getView().getModel("requestModel").getProperty("/material");if(t){e.push(new r("CentroEnt",s.EQ,t))}if(o){e.push(new r("Tipoticket",s.EQ,o))}if(l){e.push(new r("CentroSal",s.EQ,l))}if(a){e.push(new r("Material",s.EQ,a))}return e}})});
//# sourceMappingURL=Main.controller.js.map